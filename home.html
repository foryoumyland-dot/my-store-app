<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>الرئيسية</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body, html { width:100%; height:100%; font-family:Tahoma, sans-serif; background: linear-gradient(135deg, #ffe8f0 0%, #fff5f7 100%); overflow-x: hidden; }

/* ===== شريط التنقل العلوي ===== */
.navbar { position: fixed; top: 0; left: 0; width: 100%; height: 40px; background: rgba(255, 255, 255, 0.98); box-shadow: 0 2px 15px rgba(255, 105, 180, 0.15); display: flex; align-items: center; justify-content: center; z-index: 1000; }
.nav-container { display: flex; align-items: center; }
.nav-divider { width: 1px; height: 15px; background: #ffb6c1; margin: 0 12px; }
.nav-item { padding: 5px 15px; text-decoration: none; color: #d63384; font-weight: 700; font-size: 0.8rem; transition: all 0.3s ease; border-radius: 20px; }
.nav-item:hover { background: linear-gradient(45deg, #ff69b4, #ff1493); color: white; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3); }
.nav-item.active { background: linear-gradient(45deg, #ff69b4, #ff1493); color: white; }

/* ===== الأيقونة ===== */
.icon-container { text-align:center; margin:15px 0 5px 0; position: relative; }
.elegant-frame { width:160px; height:160px; border-radius:50%; background: linear-gradient(135deg,#ff69b4,#ffb6c1,#ff69b4); display:inline-flex; align-items:center; justify-content:center; box-shadow:0 0 30px rgba(255,105,180,0.4); margin-bottom:8px; border:4px solid white; }
.elegant-frame img { width:110px; height:110px; border-radius:50%; object-fit:cover; }

/* النص الترحيبي */
.welcome-text { font-size:2rem; font-weight:bold; color:#d63384; margin:5px 0 10px 0; background: linear-gradient(45deg,#d63384,#ff69b4); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }

/* المحتوى الرئيسي */
.main-content { margin-top:55px; width:100%; overflow:hidden; }
.welcome-section { background: transparent; text-align:center; padding:15px 20px; margin:5px 0; }
.welcome-section p { font-size:1.2rem; color:#8b4513; line-height:1.6; font-weight:500; padding:10px; }

/* السلايدر */
.carousel-container { width:95%; max-width:1300px; margin:20px auto; border-radius:15px; overflow:hidden; }
.carousel-item img { width:100%; height:600px; object-fit:cover; display:block; }
.carousel-caption { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:1.6rem; font-weight:bold; color:white; text-shadow:2px 2px 12px rgba(0,0,0,0.8); text-align:center; background:none; padding:0; }

/* أزرار التواصل */
.contact-buttons { text-align:center; margin:30px 0; }
.contact-buttons a { display:inline-block; margin:12px; padding:12px 25px; border-radius:10px; font-size:1rem; font-weight:bold; color:#d63384; text-decoration:none; border:2px solid #d63384; background: rgba(255,255,255,0.9); }
.contact-buttons a:hover { background: linear-gradient(45deg, #d63384, #ff69b4); color:white; transform:translateY(-3px); box-shadow:0 8px 20px rgba(214,51,132,0.4); }
</style>
</head>
<body>

<!-- شريط التنقل -->
<nav class="navbar">
    <div class="nav-container">
        <a href="home.html" class="nav-item active">الصفحة الرئيسية</a>
        <div class="nav-divider"></div>
        <a href="products.html" class="nav-item">المنتجات</a>
        <div class="nav-divider"></div>
        <a href="orders.html" class="nav-item">طلباتي</a>
    </div>
</nav>

<!-- المحتوى -->
<div class="main-content">

    <!-- أيقونة -->
    <div class="icon-container">
        <div class="elegant-frame">
            <img src="https://i.postimg.cc/9XLkYX9C/inbound656561575053776220.png" alt="أيقونة متجر">
        </div>
        <div class="welcome-text">🌸 مرحباً بكِ في متجر "لأجلك سيدتي" 🌸</div>
    </div>

    <!-- نص ترحيبي -->
    <div class="welcome-section">
        <p>
            هنا تجدين كل ما يليق بذوقكِ الرفيع من أزياء، عطور، ومكياج ✨<br>
            هدفنا أن نجعل أناقتكِ عنواناً لجمالكِ 💕
        </p>
    </div>

    <!-- السلايدر -->
    <div id="mainCarousel" class="carousel slide carousel-container" data-bs-ride="carousel" data-bs-interval="3000">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://i.postimg.cc/wjJycnsM/aa763ea28825ef29b13e4310639429d5.jpg" alt="صورة 1">
                <div class="carousel-caption">💄 تألقي بجمال لا مثيل له مع منتجاتنا ✨</div>
            </div>
            <div class="carousel-item">
                <img src="https://i.postimg.cc/8CSFywhH/e914b1a26c20692ebbb5cc5e4a8354a8.jpg" alt="صورة 2">
                <div class="carousel-caption">🖤 أزياء فاخرة تليق بذوقك الراقي 🌸</div>
            </div>
            <div class="carousel-item">
                <img src="https://i.postimg.cc/gJcxpJtL/1c769427bdbdb0ec5812e71eeb6ddc47.jpg" alt="صورة 3">
                <div class="carousel-caption">👗 لمسة أنثوية لأجمل لحظاتك 💕</div>
            </div>
        </div>
    </div>

    <!-- أزرار التواصل -->
    <div class="contact-buttons">
        <a href="whatsapp://send?phone=218940055056&text=السلام عليكم" target="_blank">📲 تواصل معنا عبر واتساب</a>
        <a href="https://www.facebook.com/profile.php?id=61580903676358" target="_blank">📘 صفحتنا على فيسبوك</a>

        <!-- زر تسجيل الخروج نصي -->
        <div style="margin-top:15px; text-align:center;">
            <span id="logout-btn" style="cursor:pointer; color:#d63384; font-size:0.9rem; text-decoration:underline;">تسجيل خروج</span>
        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

const firebaseConfig = {
    apiKey: "AIzaSyDInTSRi4Lf_KO_ltoAajJhBOHTmfnCIvU",
    authDomain: "store-email-1846c.firebaseapp.com",
    databaseURL: "https://store-email-1846c-default-rtdb.firebaseio.com",
    projectId: "store-email-1846c",
    storageBucket: "store-email-1846c.firebasestorage.app",
    messagingSenderId: "238351247429",
    appId: "1:238351247429:web:5d83284ed44dc2e5ac5b2c",
    measurementId: "G-MJE9WCQCCM"
};

// تهيئة Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// تسجيل الخروج الآمن
document.getElementById("logout-btn").addEventListener("click", async function(){
    try {
        await signOut(auth); // ✅ تسجيل خروج من Firebase
        localStorage.removeItem("currentUser"); // ✅ مسح البيانات المحلية
        window.location.href = "index.html"; // ✅ تحويل لتسجيل الدخول
    } catch (error) {
        console.error("Error signing out:", error);
        alert("حدث خطأ في تسجيل الخروج. حاول مرة أخرى.");
    }
});

// حماية الصفحة - التحقق من المصادقة
onAuthStateChanged(auth, (user) => {
    if (!user) {
        // إذا المستخدم مش مسجل دخول
        window.location.href = "index.html";
    } else {
        // إذا المستخدم مسجل دخول
        console.log("User is logged in:", user.uid);
    }
});

// حماية إضافية عند تحميل الصفحة
window.addEventListener('load', () => {
    const user = JSON.parse(localStorage.getItem("currentUser"));
    if (!user) {
        window.location.href = "index.html";
    }
});
</script>
<iframe src="bottom-nav.html" style="width:100%; height:80px; border:none; position: fixed; bottom: 0; left: 0; z-index: 1000;"></iframe>
</body>
</html>